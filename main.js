import HTML2Table from "./src/HTML2Table.js";

let w = new HTML2Table();

let textArea = document.querySelector('textarea')

let output = document.getElementById('output');
let outputContainer = document.getElementById('output-container');

let previewBtn = document.querySelector('#preview');
let codeBtn = document.querySelector('#code');

textArea.value = `<div style="background: #131217; display: flex; justify-content:center; font-size: 16px; font-family: 'Source Sans Pro',Helvetica,sans-serif; align-items:center; padding: 20px; color:white;">
  <div style=" width: 50%; display: flex; padding: 10px; flex-direction: column; background: linear-gradient(to bottom, transparent 0%, rgba(217, 217, 217, 0.03) 36%, rgba(115, 115, 115, 0.13) 100%); border:1px solid #323232; border-radius: 10px;">
   <div style="display:flex; align-items:center;">
     <img src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20enable-background%3D%22new%200%200%2064%2064%22%20viewBox%3D%220%200%2064%2064%22%3E%3Cpath%20fill%3D%22%23f78fc4%22%20d%3D%22M16.36083%2C12.04601C1.841%2C23.60467%2C5.35449%2C56.12334%2C17.15274%2C61.63396%0D%0A%09%09%09c15.24063%2C7.11845%2C40.31281-10.64663%2C39.87534-30.34107c-0.23307-10.49271-12.15881-17.42913-16.48056-19.55033%0D%0A%09%09%09C36.67443%2C9.84155%2C25.30748%2C4.92395%2C16.36083%2C12.04601z%22%2F%3E%3Cpath%20fill%3D%22%23fac9dd%22%20d%3D%22M37.11449%2C10.26204c-3.34138%2C1.0364-6.91505%2C2.71603-10.34575%2C5.3784%0D%0A%09%09%09c-1.30436%2C1.01851-5.50349%2C4.41354-8.82698%2C10.32797c-4.03827%2C7.18301-4.41344%2C13.81221-4.61007%2C18.18999%0D%0A%09%09%09c-0.30373%2C6.52189%2C0.76833%2C12.1147%2C2.05491%2C16.42104C5.04085%2C52.82451%2C2.59289%2C23.0022%2C16.36934%2C12.04888%0D%0A%09%09%09C23.3916%2C6.45607%2C31.89696%2C8.27868%2C37.11449%2C10.26204z%22%2F%3E%3Cpath%20fill%3D%22%23231f20%22%20d%3D%22M16.91053%2C12.73653c-1.27168%2C1.04079-2.42572%2C2.22691-3.43801%2C3.53974%0D%0A%09%09%09c-0.9757%2C1.33989-1.8509%2C2.76238-2.5635%2C4.27731c-1.41478%2C3.0308-2.35463%2C6.30819-2.83926%2C9.65383%0D%0A%09%09%09c-0.99348%2C6.68105-0.5172%2C13.66848%2C1.60859%2C20.07977c1.08089%2C3.17876%2C2.61994%2C6.26703%2C4.9161%2C8.60975%0D%0A%09%09%09c2.25349%2C2.37099%2C5.63988%2C3.26241%2C8.90895%2C3.52325c6.6743%2C0.32401%2C13.27215-2.43739%2C18.67511-6.3846%0D%0A%09%09%09c5.38413-4.0131%2C9.95335-9.34118%2C12.35783-15.60697c1.17647-3.10991%2C1.84942-6.47995%2C1.61923-9.76643%0D%0A%09%09%09c-0.04198-1.63097-0.57117-3.20298-1.15862-4.72481c-0.67628-1.49872-1.55117-2.91686-2.58492-4.2287%0D%0A%09%09%09c-2.08832-2.6123-4.7115-4.81462-7.53432-6.68571c-2.8219-1.88251-5.87968-3.42739-9.08643-4.48301%0D%0A%09%09%09c-3.19273-1.06254-6.5699-1.6523-9.86942-1.3612C22.6122%2C9.39779%2C19.47678%2C10.71533%2C16.91053%2C12.73653z%20M15.81114%2C11.35549%0D%0A%09%09%09c2.86845-2.19312%2C6.40426-3.58301%2C9.99022-3.75476c3.58356-0.2432%2C7.13633%2C0.43287%2C10.44892%2C1.58759%0D%0A%09%09%09c3.32425%2C1.15806%2C6.4449%2C2.79035%2C9.3848%2C4.68158c2.92897%2C1.90837%2C5.66542%2C4.17098%2C7.93671%2C6.90486%0D%0A%09%09%09c1.12135%2C1.37863%2C2.09346%2C2.89232%2C2.8589%2C4.52613c0.68394%2C1.65933%2C1.279%2C3.41305%2C1.34403%2C5.24547%0D%0A%09%09%09c0.27077%2C3.5936-0.42864%2C7.15968-1.65509%2C10.4812c-2.4958%2C6.67393-7.26464%2C12.26375-12.94131%2C16.38369%0D%0A%09%09%09c-2.85695%2C2.05502-5.9775%2C3.75495-9.31034%2C4.93651c-3.32483%2C1.17632-6.88409%2C1.83301-10.46257%2C1.6086%0D%0A%09%09%09c-1.78428-0.13266-3.56032-0.48778-5.25383-1.10513c-1.68598-0.57185-3.35373-1.61086-4.60265-2.90578%0D%0A%09%09%09c-2.53961-2.61219-4.12176-5.87709-5.24646-9.19418c-2.15181-6.68983-2.73924-13.81928-1.78285-20.76962%0D%0A%09%09%09c0.46872-3.47542%2C1.40799-6.90988%2C2.8753-10.13773c0.73838-1.61378%2C1.66082-3.14561%2C2.70166-4.59894%0D%0A%09%09%09C13.17668%2C13.81619%2C14.42229%2C12.50894%2C15.81114%2C11.35549z%22%2F%3E%3Cpath%20fill%3D%22%23231f20%22%20d%3D%22M17.44609%2021.92267l-.08002.0779c-.49942.46308-1.36413.13589-1.11489-.66764.1418-.45715%201.08213-1.96029%201.52155-2.38947.88229-.82159%201.34919.16651%201.07382.73337C18.84656%2019.67681%2017.76667%2021.61059%2017.44609%2021.92267zM25.55943%2027.53759c-.12378.4998-.36381.95062-.57712%201.4136-.26408.43365-.55908.85453-.94775%201.19498-.5928.53413-1.54698.04726-1.19897-.77899l.02717-.08664c.14467-.46314%201.12292-1.99466%201.46441-2.33921l.06113-.06168C24.94551%2026.26407%2025.79206%2026.82067%2025.55943%2027.53759zM14.7723%2039.84195c-.19827.28488-.6577.26367-.87726-.10092-.1123-.18647-.15731-.42319-.13927-.64855.07087-.85888.46188-1.68393.98958-2.21879.31418-.31844.67996-.43425.9059-.00138.09193.17613.00712.57456.00425.77758C15.65549%2037.6499%2015.54442%2038.73254%2014.7723%2039.84195zM30.91928%2036.87923c-.18858.45625-.4592.81557-.75706%201.14237-.28773.33885-.60024.64824-.94337.92088-.49242.39127-.97551.33271-1.07902-.13079-.0592-.26509.02211-.61171.1917-.92754.22389-.41368.47849-.79052.75728-1.13858.26882-.35995.56486-.68738.94295-.91788.5413-.33104.99668-.14312%201.01712.41973C31.05602%2036.44388%2031.00626%2036.66695%2030.91928%2036.87923zM31.88045%2054.74223c-.2486.37211-.58472.62449-.87713.93756-.32691.25187-.67541.46106-1.05562.56367-.37949.13645-.86048-.34645-.46103-.93486l.04725-.07648c.22609-.366%201.24547-1.40826%201.56157-1.5841l.10845-.06033C32.16709%2052.98973%2032.37656%2054.13293%2031.88045%2054.74223zM23.26889%2039.21727c-.07051.20439-1.13236%201.67446-1.45546%201.92617-.73306.74292-1.72005.05939-1.11926-.97614.20908-.36037%201.33366-1.76004%201.51031-1.87217C23.10096%2037.61005%2023.74391%2038.38123%2023.26889%2039.21727zM14.90167%2049.17435l-.00793.01099c-.45129.65769-1.32218.22197-1.24188-.46679.04271-.36637.69576-1.80682.97364-2.07814.50616-.705%201.44834-.37692%201.16896.37086C15.79446%2047.01128%2015.11378%2048.88059%2014.90167%2049.17435zM21.28201%2053.94539c-.07056.18998-1.15502%201.49232-1.46623%201.68129-.45402.4154-1.16454-.1548-.78049-.92185l.04396-.09184c.15629-.32692.94186-1.35721%201.21108-1.55403l.05685-.04156C21.57619%2052.17429%2021.67092%2053.36279%2021.28201%2053.94539zM27.56204%2048.21134c-.06911.18963-.16702.35682-.28065.50912-.11371.15115-.87883.97513-1.21602%201.13902-.72601.31502-1.38128-.14102-.92686-1.04229%200%200%20.18119-.43064.60344-.92595.4019-.42773.79111-.71844.79111-.71844C27.68522%2046.4683%2027.73764%2047.76402%2027.56204%2048.21134zM15.54986%2027.96017c-.068.49567-.22648.90809-.39481%201.31145-.1846.38839-.37803.76866-.69695%201.03349-.32653.27115-.70797.10625-.85197-.36832-.04414-.14549-.0605-.3077-.05303-.46427.02673-.53363.17895-.95181.34-1.36188.17731-.39509.36448-.78113.64213-1.08391.31872-.34757.73516-.26082.93013.19378C15.55925%2027.4394%2015.58433%2027.70617%2015.54986%2027.96017zM35.36839%2044.28692c-.19146.29135-1.10217%201.24381-1.39392%201.44053l-.08661.0584c-.71576.56748-1.61123.06934-1.04974-.92042.09801-.17278%201.28099-1.48557%201.61984-1.68917.7838-.58271%201.72671-.21503.9745%201.01347L35.36839%2044.28692zM41.91214%2048.92548c-.49746.83008-1.16666%201.49468-2.05981%201.8774-.37072.15886-.80002-.01289-.95887-.38361-.09071-.21169-.07362-.44249.02677-.63111l.03007-.05572c.23178-.4297.57106-.72831.91162-1.02753.3564-.28117.71375-.5604%201.16658-.73958l.05135-.02032c.34871-.13798.74326.03286.88124.38157C42.0414%2048.52954%2042.01523%2048.75109%2041.91214%2048.92548zM36.47704%2030.87001c-.37812.88663-.94908%201.55803-1.69244%202.09161-.59322.40042-1.2897.03487-.97282-.77483l.02837-.06709c.17274-.40989.92698-1.42499%201.59225-2.05576C36.30768%2029.23405%2036.72521%2030.26048%2036.47704%2030.87001zM41.78414%2039.54357c-.15541.34904-.39723.59717-.59839.89279-.22079.27269-.46316.52016-.77848.68242-.52551.27042-.95906.03153-.96838-.53355-.00261-.1582.03042-.33064.08783-.49504.13243-.37589.33781-.66656.56479-.93203.2466-.24254.45255-.53257.74489-.72168.52439-.3392%201.0089-.18275%201.08216.34945C41.95074%2039.01972%2041.89761%2039.28844%2041.78414%2039.54357zM49.15871%2041.06174c-.10574.4028-.32209.76733-.48994%201.16156-.20956.36863-.46237.71975-.79238%201.00381-.59038.60091-1.81899.26875-1.08567-.93908.22464-.36999%201.09966-1.39184%201.41138-1.64523l.09731-.07911c.22141-.17997.55561-.1566.74645.05221C49.1615%2040.74242%2049.19718%2040.91085%2049.15871%2041.06174zM47.29278%2034.02953c-.10638.31911-.29156.57483-.47908.82722-.1831.25631-.36633.51308-.57588.74542-.40298.4468-.87392.40435-1.1201.06128-.19792-.27581-.20988-.6172.02412-1.02224l.01337-.02269c.51478-.68496%201.14018-1.45197%201.14018-1.45197.48379-.49989.91897-.22653%201.03907.22712C47.38522%2033.58541%2047.36593%2033.81008%2047.29278%2034.02953z%22%2F%3E%3Cg%3E%3Cpath%20fill%3D%22%236acc6d%22%20d%3D%22M53.00584%2C17.21468c-1.32432-2.32397-3.89329-4.64229-6.97437-6.54081%0D%0A%09%09%09c0.27811-0.33742%2C0.54359-0.62612%2C0.77774-0.85602c1.8109-1.77823%2C4.08816-2.78436%2C5.2168-3.28304%0D%0A%09%09%09c2.88236-1.27352%2C4.49809-1.27498%2C5.0322-2.62598c0.30682-0.77622%2C0.22588-1.92002-0.40387-2.56167%0D%0A%09%09%09c-1.82418-1.85852-8.27416%2C0.47617-12.25663%2C4.34166c-0.98441%2C0.95559-1.72806%2C1.94371-2.34519%2C2.89483%0D%0A%09%09%09C38.35803%2C6.97197%2C34.3909%2C6.0765%2C31.07685%2C6.455c-3.03917%2C0.34711-6.92866%2C2.31317-6.82954%2C3.9638%0D%0A%09%09%09c0.14149%2C2.35717%2C7.75985%2C3.13157%2C9.16386%2C3.32416c-0.61266%2C0.73993-4.73023%2C5.77458-3.51611%2C7.38162%0D%0A%09%09%09c0.98394%2C1.3027%2C6.14021%2C0.08578%2C10.52025-3.11703c-0.03353%2C2.84429%2C3.28759%2C9.63392%2C5.48471%2C9.35625%0D%0A%09%09%09c2.0299-0.25663%2C2.55003-4.63458%2C2.33204-7.18404c4.38762%2C6.39095%2C6.0855%2C5.58084%2C6.39537%2C5.432%0D%0A%09%09%09C55.60561%2C25.14165%2C54.98695%2C20.69153%2C53.00584%2C17.21468z%22%2F%3E%3Cpath%20fill%3D%22%23b5e6b6%22%20d%3D%22M36.70355%2C6.83135c-1.3759%2C0.41094-2.94832%2C1.05417-4.53852%2C2.05491%0D%0A%09%09%09c-1.98347%2C1.2507-3.43081%2C2.68026-4.41355%2C3.85952c-1.85827-0.51814-3.4307-1.25081-3.50213-2.32287%0D%0A%09%09%09c-0.10721-1.66175%2C3.78809-3.62733%2C6.82562-3.96683C32.80826%2C6.25954%2C34.73808%2C6.40252%2C36.70355%2C6.83135z%22%2F%3E%3Cpath%20fill%3D%22%23231f20%22%20d%3D%22M55.14478%2C6.1022c0.64323-0.25018%2C1.42945-0.46459%2C2.09057-1.17937%0D%0A%09%09%09c0.66112-0.76833%2C0.76833-1.69752%2C0.64323-2.55516c-0.07143-0.42882-0.23219-0.85765-0.51814-1.25081%0D%0A%09%09%09c-0.28585-0.39305-0.71478-0.69678-1.12572-0.83976c-1.67963-0.5718-3.16273-0.14298-4.55641%2C0.25018%0D%0A%09%09%09c-1.39378%2C0.42882-2.71603%2C1.05417-3.94895%2C1.76895c-2.30498%2C1.35801-4.43132%2C3.16263-5.95009%2C5.39617%0D%0A%09%09%09c-2.16211-0.89342-4.43143-1.55454-6.77218-1.85827C32.4877%2C5.45886%2C29.7359%2C5.67338%2C27.3416%2C6.72755%0D%0A%09%09%09c-1.19715%2C0.55392-2.39441%2C1.10783-3.35926%2C2.32287c-0.21441%2C0.3395-0.4646%2C0.71478-0.4646%2C1.26869%0D%0A%09%09%09c0%2C0.51814%2C0.21441%2C1.00062%2C0.50037%2C1.34013c0.55392%2C0.64324%2C1.19715%2C0.94697%2C1.80462%2C1.23292%0D%0A%09%09%09c1.98347%2C0.82198%2C4.03827%2C1.19715%2C6.02174%2C1.51877c-0.66123%2C1.00062-1.28658%2C2.01913-1.85838%2C3.10908%0D%0A%09%09%09c-0.37517%2C0.78621-0.76833%2C1.57243-0.87553%2C2.59093c-0.05355%2C0.4646%2C0.07143%2C1.17937%2C0.60757%2C1.6082%0D%0A%09%09%09c0.51814%2C0.37517%2C1.03629%2C0.42882%2C1.50088%2C0.46459c1.85838%2C0.03566%2C3.46647-0.58969%2C5.05678-1.19726%0D%0A%09%09%09c1.25081-0.51814%2C2.44796-1.12572%2C3.59156-1.8225c0.19653%2C1.35801%2C0.69678%2C2.57305%2C1.21503%2C3.78809%0D%0A%09%09%09c0.71467%2C1.51877%2C1.50089%2C3.00187%2C2.84101%2C4.28834c0.32173%2C0.30384%2C0.75055%2C0.60757%2C1.30447%2C0.78621%0D%0A%09%09%09c0.64323%2C0.16086%2C1.30436%2C0.01789%2C1.78683-0.32162c0.9113-0.71467%2C1.25081-1.62597%2C1.51877-2.46585%0D%0A%09%09%09c0.26807-0.92908%2C0.41094-1.87616%2C0.4646-2.80535c0.48248%2C0.5718%2C0.98274%2C1.12572%2C1.50099%2C1.66186%0D%0A%09%09%09c0.53603%2C0.53603%2C1.08994%2C1.08994%2C1.76895%2C1.55454c0.3395%2C0.21441%2C0.69678%2C0.42882%2C1.14349%2C0.5718%0D%0A%09%09%09c0.42893%2C0.12498%2C1.00062%2C0.21441%2C1.55465-0.12509c0.69678-0.53614%2C0.62535-1.0364%2C0.71467-1.44733%0D%0A%09%09%09c0.03577-0.42893%2C0.03577-0.82199%2C0-1.21515c-0.05355-0.7861-0.17864-1.55454-0.35739-2.30498%0D%0A%09%09%09c-0.35728-1.4831-0.89342-2.93044-1.62597-4.30623c-0.87553-1.50099-2.01913-2.7518-3.26994-3.85963%0D%0A%09%09%09c-1.01851-0.92908-2.10846-1.73318-3.26994-2.44796c1.59031-1.67963%2C3.80597-2.78746%2C6.03952-3.69877%0D%0A%09%09%09C53.84042%2C6.5668%2C54.46577%2C6.3345%2C55.14478%2C6.1022z%20M45.46015%2C10.21191l-0.03577%2C0.05355%0D%0A%09%09%09c-0.21441%2C0.3395-0.12509%2C0.78621%2C0.21441%2C1.01851l0.01788%2C0.01789c1.30436%2C0.85765%2C2.57305%2C1.78684%2C3.73443%2C2.82323%0D%0A%09%09%09c1.1436%2C1.0364%2C2.18%2C2.19777%2C2.91256%2C3.48435c0.71478%2C1.19715%2C1.28658%2C2.51939%2C1.67963%2C3.87741%0D%0A%09%09%09c0.19663%2C0.67901%2C0.35739%2C1.3759%2C0.42882%2C2.05491c0.05366%2C0.33939%2C0.05366%2C0.6789%2C0.03577%2C1.00062%0D%0A%09%09%09c0%2C0.21441-0.08932%2C0.46449-0.10721%2C0.51814c0%2C0-0.89342-0.08932-1.3759-0.44671%0D%0A%09%09%09c-0.55391-0.37527-1.05417-0.87553-1.53665-1.39379c-0.94697-1.05417-1.76032-2.25687-2.55516-3.48425%0D%0A%09%09%09c-0.63649-0.98285-1.50705-0.66888-1.42945%2C0.53603c0.06299%2C0.97803%2C0.01788%2C3.10908-0.37527%2C4.53853%0D%0A%09%09%09c-0.19653%2C0.71478-0.53603%2C1.3759-0.9113%2C1.67963c-0.19653%2C0.12509-0.37517%2C0.14298-0.53603%2C0.10721%0D%0A%09%09%09c-0.19653-0.07144-0.48237-0.21441-0.73256-0.4646c-1.0364-0.94697-1.85838-2.37642-2.5195-3.7702%0D%0A%09%09%09c-0.64323-1.39367-1.21919-3.61886-1.28647-4.342c-0.06728-0.72314-0.33264-1.09665-1.08994-0.53603%0D%0A%09%09%09c-0.75731%2C0.56062-2.66248%2C1.84039-4.14548%2C2.48373c-1.46522%2C0.64324-3.0913%2C1.16138-4.5743%2C1.10783%0D%0A%09%09%09c-0.35739-0.01789-0.69689-0.1072-0.85776-0.2323c-0.14287-0.08943-0.19653-0.30384-0.14287-0.64334%0D%0A%09%09%09c0.08932-0.64324%2C0.44671-1.39368%2C0.83976-2.07268c0.82199-1.35801%2C1.87616-2.6266%2C3.00187-3.80597%0D%0A%09%09%09c0.39363-0.43526%2C0.92167-1.29155-0.58958-1.4831c-2.36073-0.29923-4.93169-0.55392-7.0938-1.3579%0D%0A%09%09%09c-0.50026-0.21452-1.00063-0.50037-1.26869-0.78621c-0.2323-0.30384-0.2323-0.37527%2C0.01789-0.78621%0D%0A%09%09%09c0.5718-0.76844%2C1.67963-1.39379%2C2.71603-1.84049c2.17989-0.96485%2C4.53853-1.17926%2C6.93294-0.83976%0D%0A%09%09%09c2.37653%2C0.28585%2C4.71728%2C1.05417%2C6.93294%2C2.01913c0.32162%2C0.14287%2C0.69689%2C0.03566%2C0.89342-0.26807l0.01789-0.01789%0D%0A%09%09%09c1.41156-2.26932%2C3.44858-4.05616%2C5.77145-5.43195c1.16149-0.67901%2C2.3943-1.26869%2C3.64511-1.66175%0D%0A%09%09%09c1.23292-0.39316%2C2.64459-0.64334%2C3.62733-0.28595c0.44671%2C0.16086%2C0.69689%2C0.48248%2C0.78621%2C1.01851%0D%0A%09%09%09c0.08932%2C0.51814-0.03577%2C1.10783-0.30384%2C1.39379c-0.26796%2C0.32162-0.89342%2C0.57169-1.53666%2C0.78621%0D%0A%09%09%09c-0.62535%2C0.23219-1.30436%2C0.44671-1.98336%2C0.71467C50.07011%2C6.53103%2C47.38986%2C7.88904%2C45.46015%2C10.21191z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" style="height: 20px; width: 20px;">
     <h1 style="font-size: 18px; padding: 0px 12px;">Hello World Co.,LTD</h1>
    </div>
    <div style="border-top: 1px solid #6c757d; padding-top: 14px;">
      <h2>Welcome onboard!</h2>
      <p>Hi Thomas,</p>
      <p style="color:#ced4da;">
        Thank you for choosing us. We can't wait to see how you'll use product to achieve your goals.
      </p>
      <p style="color:#ced4da;">
        Before we get started, please confirm your email address by clicking it.
      </p>
      <div style="padding-top: 12px; padding-bottom: 20px; display: flex; align-items:center; justify-content: center; width: 100%;">
        <a href="" style="padding: 12px 16px; outline: none; text-decoration: none; background: #ffa62b; border-radius: 4px; color: #0a0908;">Confirm NowðŸ‘‹</a>
      </div>
    </div>
  </div>
</div>`
let outputValue = null;
document.querySelector('#action').addEventListener('click', function (e) {
  if (textArea.style.display === 'none') {
    textArea.style.display = null;
    outputContainer.style.display = 'none';
    output.innerHTML = '';
    e.target.innerText = 'Convert';
    return;
  }
  let placeholder = document.createElement('div');
  placeholder.style.width = '60vw'
  placeholder.style.background = '#333333';
  placeholder.style.color = '#f2f2f2'
  placeholder.innerHTML = textArea.value;
  outputContainer.style.display = null;
  document.body.appendChild(placeholder);
  outputValue = w.convert(placeholder.children[0]);
  output.appendChild(outputValue);
  textArea.style.display = 'none';
  e.target.innerText = 'Reset';

  placeholder.remove();
});

previewBtn.addEventListener('click', function (e) {
  output.innerHTML = ''
  output.appendChild(outputValue)
})

codeBtn.addEventListener('click', function (e) {
  output.innerHTML = ''
  output.innerText = outputValue.outerHTML
})

// document.querySelector('#action').click();

// console.log(w.cssParser.parse(document.querySelector('#sample > div'), false))
